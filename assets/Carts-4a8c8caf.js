import{_ as y,a as r,r as C,o as d,c as n,b as t,d as u,e as m,F as v,j as g,t as c,h,w as x,l as f}from"./index-ea5262f8.js";import{_ as k}from"./back-f8041f4a.js";const $={data(){return{url:"https://vue3-course-api.hexschool.io/v2/",api_path:"rita009",cart:{}}},methods:{getCarts(){r.get(`${this.url}api/${this.api_path}/cart`).then(s=>{this.cart=s.data.data,console.log("購物車清單",this.cart)}).catch(s=>{alert(s.response.data.message)})},updatedCart(s){const a={product_id:s.product.id,qty:s.qty};r.put(`${this.url}api/${this.api_path}/cart/${s.id}`,{data:a}).then(l=>{this.getCarts(),console.log("更新購物車",l)}).catch(l=>{alert(l.response.data.message)})},deleteCartData(s){r.delete(`${this.url}api/${this.api_path}/cart/${s}`).then(a=>{this.getCarts(),alert("已刪除此品項"),console.log("刪除單一購物車",a.data)}).catch(a=>{alert(a.response.data.message)})},deleteAllCart(){r.delete(`${this.url}api/${this.api_path}/carts`).then(s=>{this.getCarts(),alert("已刪除全部購物車囉～"),console.log("刪除全部購物車",s.data)}).catch(s=>{alert(s.response.data.message)})}},mounted(){this.getCarts()}},b={class:"container"},B={class:"goBack"},w=t("img",{class:"goBack-icon",src:k,alt:""},null,-1),q=t("div",{class:"page-title"},"Your cart",-1),V={class:"flexBlock"},D={class:"flexBlock-left w-7"},A={class:"w-7 carts-list-box"},L=["onClick"],N={class:"carts-img"},U=["src"],F={class:"carts-content"},R={class:"carts-content-title"},S={class:"w-3 carts-list-box"},j={class:"product-detail-addBox"},E=["onUpdate:modelValue","onChange"],I=["value"],M={class:"carts-price"},T={class:"carts-price-final"},Y={class:"carts-price-origin"},z={class:"flexBlock-right w-3"},G=t("div",{class:"page-title"},"summery",-1),H={class:"summery"},J={class:"summery-list"},K=t("p",{class:"summery-list-title"},"小計",-1),O={class:"summery-list-txt"},P=t("div",{class:"summery-list"},[t("p",{class:"summery-list-title"},"運費（不含搬運上樓）"),t("p",{class:"summery-list-txt"},"免運")],-1),Q={class:"summery-total"},W={class:"summery-list"},X=t("p",{class:"summery-list-title"},[h("折扣後"),t("span",null,"總金額")],-1),Z={class:"summery-list-txt"};function tt(s,a,l,st,_,i){const p=C("RouterLink");return d(),n("div",b,[t("div",B,[w,u(p,{class:"goBack-link",to:{name:"product-list"}},{default:m(()=>[h("繼續購物")]),_:1})]),q,t("div",V,[t("div",D,[t("button",{type:"button",class:"btn btn-m btn-secondary-outline",onClick:a[0]||(a[0]=(...e)=>i.deleteAllCart&&i.deleteAllCart(...e))}," 刪除全部品項 "),(d(!0),n(v,null,g(_.cart.carts,e=>(d(),n("div",{class:"carts-list",key:e.id},[t("div",A,[t("div",{class:"carts-delItem",onClick:o=>i.deleteCartData(e.id)},null,8,L),t("div",N,[t("img",{src:e.product.imageUrl,alt:""},null,8,U)]),t("div",F,[t("div",R,c(e.product.title),1)])]),t("div",S,[t("div",j,[x(t("select",{name:"",id:"","onUpdate:modelValue":o=>e.qty=o,onChange:o=>i.updatedCart(e),class:"addBox-select"},[(d(),n(v,null,g(20,o=>t("option",{value:o,key:o+"12344"},c(o),9,I)),64))],40,E),[[f,e.qty]])]),t("div",M,[t("div",T,"$ "+c(e.final_total),1),t("div",Y,"$ "+c(e.product.origin_price*e.qty),1)])])]))),128))]),t("div",z,[G,t("div",H,[t("div",J,[K,t("p",O,"$ "+c(_.cart.total),1)]),P]),t("div",Q,[t("div",W,[X,t("p",Z,"$ "+c(_.cart.final_total),1)])]),u(p,{to:{name:"send-order"},class:"btn btn-lg btn-secondary mt-5"},{default:m(()=>[h("立即結帳")]),_:1})])])])}const ot=y($,[["render",tt]]);export{ot as default};
