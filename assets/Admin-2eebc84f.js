import{_ as g,a as s,r as i,o,c as h,b as t,w as k,v as f,d as l,e as u,f as v,g as d,F as x,h as m}from"./index-3743469c.js";import{_ as L}from"./logo-white-9912caca.js";const $={data(){return{url:"https://vue3-course-api.hexschool.io/v2/",checkLogin:!1}},methods:{checkAdmin(){s.post(`${this.url}api/user/check`).then(()=>{this.checkLogin=!0,this.$router.push({name:"dashboard"})}).catch(()=>{this.checkLogin=!1,this.$router.push({name:"login"})})},signOut(){s.post(`${this.url}logout`).then(e=>{alert("已經登出囉！"),console.log("是否登出",e),this.$router.push({name:"login"})}).catch(e=>{alert(e.response.data.message)})}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)rita009\s*\=\s*([^;]*).*$)|^.*$/,"$1");s.defaults.headers.common.Authorization=e,this.checkAdmin()}},V={class:"header-admin"},w={class:"header-admin-box"},A=t("img",{alt:"Vue logo",class:"logo",src:L},null,-1),B={class:"nav"};function C(e,a,N,R,n,c){const r=i("RouterLink"),_=i("RouterView");return o(),h(x,null,[t("header",V,[t("div",w,[A,t("nav",B,[k(l(r,{to:"/",class:"test"},{default:u(()=>[m("前台首頁")]),_:1},512),[[f,this.checkLogin===!0]]),n.checkLogin===!1?(o(),v(r,{key:0,to:{name:"login"}},{default:u(()=>[m(" 登入 ")]),_:1})):d("",!0),n.checkLogin===!0?(o(),h("a",{key:1,href:"#",onClick:a[0]||(a[0]=(...p)=>c.signOut&&c.signOut(...p))}," 登出 ")):d("",!0)])])]),l(_,{class:"admin"})],64)}const y=g($,[["render",C]]);export{y as default};
